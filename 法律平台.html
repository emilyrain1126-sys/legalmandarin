<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³•å¾‹è¯èªå­¸ç¿’åŠ©æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #f8fafc;
            color: #1e293b;
            font-family: "Source Sans Pro", "Noto Sans TC", sans-serif;
            -webkit-font-smoothing: antialiased;
            overflow-y: auto; 
            min-height: 100vh;
        }

        /* å´é‚Šæ¬„è¨­è¨ˆ */
        .sidebar {
            background-color: #f1f5f9;
            border-right: 1px solid #e2e8f0;
            width: 22%; 
            min-width: 280px;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            padding: 1.5rem 1.25rem;
            z-index: 100;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        .sidebar::-webkit-scrollbar { width: 4px; }
        .sidebar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }

        /* ä¸»å€åŸŸä½ˆå±€ */
        .main-content { 
            margin-left: clamp(280px, 22%, 340px); 
            padding: 0 2.5rem 3rem 2.5rem; 
            max-width: 1400px;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* ç½®é ‚ Header */
        .sticky-header {
            position: sticky;
            top: 0;
            background-color: #f8fafc;
            padding: 1.25rem 0;
            z-index: 50;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .sticky-header.scrolled {
            border-bottom: 2px solid #e2e8f0;
            background-color: rgba(248, 250, 252, 0.95);
            backdrop-filter: blur(10px);
        }

        @media (max-width: 767px) {
            .sidebar { width: 100%; position: sticky; top: 0; height: auto; border-bottom: 2px solid #e2e8f0; }
            .main-content { margin-left: 0; padding: 1rem; }
            .sticky-header { position: relative; top: 0; }
        }
        
        .sub-title { 
            font-size: 1.4rem; 
            font-weight: 900; 
            color: #0f172a;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.5rem;
        }

        .intro-quote {
            background-color: #eff6ff;
            color: #1d4ed8;
            padding: 1.25rem 1.5rem;
            border-radius: 1rem;
            font-size: 1.4rem;
            font-weight: 900;
            margin-bottom: 1.5rem;
            border-left: 8px solid #3b82f6;
            line-height: 1.4;
            box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.1);
        }

        .content-text { 
            font-size: 1.15rem; 
            font-weight: 800; 
            line-height: 1.8; 
            white-space: pre-wrap; 
        }

        /* æœå°‹æ¨£å¼ */
        .search-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.75rem;
            font-weight: 800;
            font-size: 0.9rem;
            outline: none;
            transition: all 0.2s;
        }
        .search-input:focus { border-color: #3b82f6; }
        
        .search-results {
            max-height: 200px;
            overflow-y: auto;
            background: white;
            border: 2px solid #e2e8f0;
            border-top: none;
            border-radius: 0 0 0.75rem 0.75rem;
            display: none;
            z-index: 110;
        }
        .search-item {
            padding: 0.6rem 1rem;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 800;
            border-bottom: 1px solid #f1f5f9;
        }
        .search-item:hover { background-color: #eff6ff; }

        /* å¡ç‰‡è¨­è¨ˆ */
        .card { 
            background: white; border-radius: 1rem; border: 1px solid #e2e8f0; 
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02); padding: 2.25rem;
            display: flex;
            flex-direction: column;
            min-height: 280px; 
        }
        .law-box { border-top: 8px solid #3b82f6; }
        .white-box { border-top: 8px solid #10b981; }

        .section-teaching { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 1.5rem; 
        }

        /* æ‡²ç½°æ¨™ç±¤ */
        .penalty-card-box { 
            border-top: 10px solid #f59e0b; 
            background: linear-gradient(to bottom, #fff, #fffbf0);
            padding: 1.5rem 2rem !important;
            min-height: auto;
        }
        .penalty-container {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            width: 100%;
        }
        .penalty-tag { 
            border-radius: 1.25rem; 
            padding: 1.25rem 2rem; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center;
            text-align: center;
            flex: 1;
            min-width: 280px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
            border: 2px solid transparent;
            transition: transform 0.2s;
        }
        .tag-money { background-color: #fefce8; color: #854d0e; border-color: #fde047; }
        .tag-jail { background-color: #fef2f2; color: #991b1b; border-color: #fecaca; }
        .tag-license { background-color: #eff6ff; color: #1e40af; border-color: #bfdbfe; }

        /* æŒ‰éˆ•èˆ‡åŠŸèƒ½ */
        .btn-quiz-mini { 
            background-color: #ef4444; color: white; padding: 0.6rem 1.5rem; 
            border-radius: 9999px; font-weight: 900; font-size: 1.1rem;
            cursor: pointer; display: flex; align-items: center; gap: 0.5rem;
            transition: all 0.2s;
        }
        .btn-quiz-mini:hover { transform: scale(1.05); background-color: #dc2626; }

        #level-badge { 
            cursor: pointer; font-weight: 900; 
            padding: 0.6rem 1.5rem; border-radius: 9999px; font-size: 1.1rem;
            display: flex; align-items: center; gap: 0.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.2s;
        }
        .badge-b1-b2 { background-color: #3b82f6 !important; color: white !important; }
        .badge-c1-c2 { background-color: #8b5cf6 !important; color: white !important; }

        .glossary-word {
			text-decoration: underline; 
			text-underline-offset: 4px;
			text-decoration-style: dashed; 
			cursor: pointer; 
			font-weight: 900;
			transition: opacity 0.2s;
		}
		.glossary-word:hover { opacity: 0.7; }

		/* å®šç¾©å››ç¨®äº¤æ›¿é¡è‰² */
		.word-color-0 { color: #2563eb; } /* è— */
		.word-color-1 { color: #7c3aed; } /* ç´« */
		.word-color-2 { color: #0891b2; } /* é’ */
		.word-color-3 { color: #db2777; } /* ç²‰ */

        /* å´é‚Šæ¬„åº•éƒ¨ */
        .sidebar-footer {
            margin-top: auto;
            padding-top: 1.5rem;
            border-top: 2px solid #e2e8f0;
        }
        .btn-footer {
            width: 100%;
            padding: 0.7rem;
            border-radius: 0.85rem;
            font-weight: 900;
            font-size: 0.9rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .btn-log { background-color: #475569; color: white; }
        .btn-glossary { background-color: #3b82f6; color: white; }
        .btn-info { background-color: #0f172a; color: white; }

        .contact-info {
            font-size: 0.75rem;
            font-weight: 800;
            color: #64748b;
            line-height: 1.6;
            padding: 0.75rem;
            background: #f8fafc;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            margin-top: 0.5rem;
        }

        /* è©å½™åº«ç¨ç«‹é é¢ */
        .glossary-row {
            display: grid;
            grid-template-columns: 220px 150px 1fr;
            gap: 1.5rem;
            background: white;
            padding: 1.75rem 2.25rem;
            border-radius: 1.25rem;
            border: 1px solid #e2e8f0;
            margin-bottom: 1.25rem;
            align-items: center;
            transition: all 0.2s;
        }
        .glossary-row:hover { border-color: #3b82f6; transform: translateX(5px); box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.1); }
        .glossary-term-col { display: flex; flex-direction: column; }
        .glossary-def-col { font-weight: 800; color: #475569; line-height: 1.7; font-size: 1.1rem; }

        input[type="radio"] { display: none; }
        .option-label {
            cursor: pointer; padding: 1.25rem 2.25rem; border: 3px solid #e2e8f0; 
            border-radius: 1.25rem; transition: all 0.2s; display: block; 
            font-size: 1.25rem; font-weight: 900; margin-bottom: 0.85rem;
        }
        .option-label.selected-correct { background-color: #dcfce7; border-color: #10b981; color: #166534; }
        .option-label.selected-wrong { background-color: #fee2e2; border-color: #ef4444; color: #991b1b; }
    </style>
</head>
<body>

<canvas id="confetti-canvas" style="position:fixed; top:0; left:0; pointer-events:none; z-index:2000;"></canvas>

<!-- è©å½™å–®å€‹è§£é‡‹å½ˆçª— -->
<div id="term-modal-overlay" class="hidden fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center z-[1100]" onclick="closeTermModal()">
    <div class="bg-white p-10 rounded-[2.5rem] max-w-md w-[90%] shadow-2xl" onclick="event.stopPropagation()">
        <div class="flex justify-between items-start mb-6">
            <div>
                <h3 id="modal-term" class="text-3xl font-black text-blue-900">è©å½™è§£é‡‹</h3>
                <p id="modal-pinyin" class="text-sm text-slate-400 font-black tracking-widest uppercase mt-1">Pinyin</p>
                <div id="modal-en" class="text-[11px] font-black text-blue-700 italic mt-4 bg-blue-50 px-4 py-2 rounded-full w-fit border border-blue-100">English Context</div>
            </div>
            <button onclick="closeTermModal()" class="text-slate-300 hover:text-slate-600 text-4xl font-black">âœ•</button>
        </div>
        <div class="bg-slate-50 p-8 rounded-3xl border-2 border-slate-100 shadow-inner">
            <p id="modal-def" class="text-slate-700 text-lg font-black leading-relaxed"></p>
        </div>
    </div>
</div>

<!-- æ¸¬é©—å½ˆçª— -->
<div id="quiz-modal-overlay" class="hidden fixed inset-0 bg-slate-900/80 backdrop-blur-md flex items-center justify-center z-[1100]" onclick="closeQuizModal()">
    <div class="bg-white p-12 rounded-[3rem] max-w-3xl w-[95%] shadow-2xl border-t-[14px] border-red-500" onclick="event.stopPropagation()">
        <div class="flex justify-between items-center mb-10">
            <h3 class="text-3xl font-black text-slate-800 flex items-center gap-4"><span>ğŸ“</span> è©¦è©¦çœ‹ï¼</h3>
            <button onclick="closeQuizModal()" class="text-slate-300 hover:text-slate-600 text-4xl font-black">âœ•</button>
        </div>
        <div class="bg-slate-50 p-10 rounded-[2.5rem] mb-4 border-2 border-slate-100 shadow-inner overflow-y-auto max-h-[60vh]">
            <p id="quiz-question" class="text-2xl font-black text-slate-700 mb-10 leading-tight"></p>
            <div id="options-container" class="grid grid-cols-1 gap-4"></div>
            <div id="feedback-box" class="mt-8 p-8 rounded-3xl hidden font-black text-xl text-center shadow-xl"></div>
        </div>
    </div>
</div>

<!-- æ›´æ–°æ—¥èªŒå½ˆçª— -->
<div id="log-modal-overlay" class="hidden fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center z-[1100]" onclick="closeLogModal()">
    <div class="bg-white p-12 rounded-[3rem] max-w-2xl w-[90%] shadow-2xl border-t-[12px] border-slate-600" onclick="event.stopPropagation()">
        <div class="flex justify-between items-center mb-8">
            <h3 class="text-3xl font-black text-slate-800 flex items-center gap-4"><span>ğŸ“œ</span> ç³»çµ±æ›´æ–°æ—¥èªŒ (Log)</h3>
            <button onclick="closeLogModal()" class="text-slate-300 hover:text-slate-600 text-4xl font-black">âœ•</button>
        </div>
        <div class="bg-slate-50 p-10 rounded-[2.5rem] border shadow-inner max-h-[55vh] overflow-y-auto">
            <div class="space-y-10 text-sm font-bold text-slate-700">
                <div class="border-l-4 border-blue-500 pl-6">
                    <p class="text-blue-600 font-black text-lg mb-2">2026/01/12 (V0.d - Latest)</p>
                    <ul class="list-disc space-y-2 text-base">
						<li>æ–°å¢ã€Œæ ¸å‡†ã€ç­‰52å€‹è©å½™è§£é‡‹</li>
						<li>æ–°å¢ã€Œå…¥å‡ºåœ‹åŠç§»æ°‘æ³•#23ã€ç­‰1æ¢æ³•æ¢ç›¸é—œå…§å®¹</li>						
                    </ul>
                </div>
                <div class="border-l-4 border-emerald-500 pl-6">
                    <p class="text-emerald-600 font-black text-lg mb-2">2026/01/08 (V0.C)</p>
                    <ul class="list-disc space-y-2 text-base">
                        <li>åˆªé™¤äº†ç›®å‰ç‰ˆæœ¬å…§å°šæœªå»ºç½®å®Œæˆçš„æ³•æ¢åŠè©å½™åº«ä¹‹ä½”ä½ç¬¦</li>
						<li>(08:54-V0.C-1)æ–°å¢ã€Œç¬¦åˆã€ç­‰17å€‹è©å½™è§£é‡‹</li>
                    </ul>
                </div>
				<div class="border-l-4 border-amber-500 pl-6">
                    <p class="text-amber-600 font-black text-lg mb-2">2026/01/06 (V0.b))</p>
                    <ul class="list-disc space-y-2 text-base">
                        <li>1. æ›´æ”¹äº†æ³•æ¢åŸæ–‡åŠè§£é‡‹å…§å­—å…¸åŠŸèƒ½çš„å‘ˆç¾æ–¹å¼ï¼Œå…·é«”è®Šæ›´å¦‚ä¸‹ï¼š</li>
						<li>(1) è©å½™å°‡ä¾é †åºè¦å¾‹è®Šæ›é¡è‰²ï¼Œä»¥åˆ©è¾¨è­˜</li>
						<li>(2) åƒ…åœ¨è©å½™é¦–æ¬¡å‡ºç¾æ™‚æ·»åŠ å­—å…¸åŠŸèƒ½</li>
						<li>2. æ–°å¢ã€ŒåŠŸèƒ½ã€ç­‰8å€‹è©å½™è§£é‡‹</li>
						<li>3. æ›´æ”¹äº†è©å½™åº«å…§è©å½™çš„å‘ˆç¾é †åºï¼Œç¾åœ¨ï¼Œè©å½™åº«å…§çš„è©å½™æœƒä¾è‹±æ–‡é¦–å­—æ¯é€²è¡Œæ’åº</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ç¶²ç«™è³‡è¨Šèˆ‡ç‰ˆæ¬Šå½ˆçª—-->
<div id="info-modal-overlay" class="hidden fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center z-[1100]" onclick="closeInfoModal()">
    <div class="bg-white p-12 rounded-[3rem] max-w-2xl w-[90%] shadow-2xl border-t-[12px] border-blue-900" onclick="event.stopPropagation()">
        <div class="flex justify-between items-center mb-8">
            <h3 class="text-2xl font-black text-blue-900 flex items-center gap-4"><span>â„¹ï¸</span> ç¶²ç«™è³‡è¨Šèˆ‡ç‰ˆæ¬Šè²æ˜</h3>
            <button onclick="closeInfoModal()" class="text-slate-300 hover:text-slate-600 text-4xl font-black">âœ•</button>
        </div>
        <div class="bg-slate-50 p-10 rounded-[2.5rem] border shadow-inner max-h-[55vh] overflow-y-auto">
            <div class="space-y-10 text-base font-bold text-slate-700">
                <section>
                    <h4 class="text-xl font-black text-slate-800 mb-4 border-l-6 border-blue-500 pl-4 uppercase tracking-tighter">ğŸ“œ ç¶²ç«™è³‡è¨Š</h4>
                    <p class="leading-relaxed">
                        æœ¬ç«™å‰µç«‹æ–¼ 2026 å¹´ï¼Œæ—¨åœ¨é€éå°‡å°ˆæ¥­è¡“èªä¾æŒ‡å®šç­‰ç´šé€²è¡Œç¿»è­¯ï¼Œå”åŠ©å¤–ç±äººå£«é€éç†è§£æˆ‘åœ‹æ³•å¾‹ã€‚</br>
						æœ¬ç«™åƒ…äºŒäººå…±åŒé–‹ç™¼ï¼Œæ›´æ–°é »ç‡ç´„ç‚ºæ¯æœˆ3æ¬¡ä¸å®šæ™‚æ›´æ–°ï¼Œä¸”åƒ…æ›´æ–°èˆ‡å¤–ç±äººå£«ç›¸é—œä¹‹æ³•æ¢èªªæ˜ã€‚å¦‚æœ‰é‡å°ç‰¹å®šæ³•æ¢çš„è£½ä½œéœ€æ±‚ï¼Œè«‹ä¾†ä¿¡å‘ŠçŸ¥ã€‚
                    </p>
                </section>
                <section>
                    <h4 class="text-xl font-black text-slate-800 mb-4 border-l-6 border-blue-500 pl-4 uppercase tracking-tighter">âš–ï¸ ç‰ˆæ¬Šè²æ˜</h4>
                    <p class="leading-relaxed mb-4">
                        æœ¬ç«™æ³•æ¢åŸæ–‡å¼•è‡ªå…¨åœ‹æ³•è¦è³‡æ–™åº«ã€‚ç™½è©±è§£é‡‹ã€å¼•è¨€ã€é¡Œç›®ä¹‹è‘—ä½œæ¬Šæ­¸é–‹ç™¼å°çµ„æ‰€æœ‰ã€‚</br>
						æœ¬ç«™æ‰€æœ‰å…§å®¹å¯ä¾›æ­£å¸¸æŸ¥è©¢ã€åˆ†äº«åŠæ•™å­¸ä½¿ç”¨ï¼Œç„¶ç¦æ­¢é€²è¡Œè²©å”®ç­‰é‡‘éŒ¢ç›¸é—œäº¤æ˜“è¡Œç‚ºã€‚
                    </p>
                    <div class="bg-red-50 p-6 rounded-3xl border-2 border-red-100 text-red-900 font-black">
                        âš ï¸ å…§å®¹åƒ…ä¾›è¯èªå­¸ç¿’åƒè€ƒã€‚å…·é«”æ³•å¾‹ç–‘æ…®è«‹è«®è©¢å¾‹å¸«ã€‚
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>

<!-- ç­‰ç´šé¸æ“‡å½ˆçª— -->
<div id="level-modal-overlay" class="hidden fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center z-[1100]" onclick="closeLevelModal()">
    <div class="bg-white p-12 rounded-[3rem] max-w-sm w-[90%] shadow-2xl text-center" onclick="event.stopPropagation()">
        <h3 class="text-2xl font-black text-slate-800 mb-8 tracking-tight">æ›´æ›å­¸ç¿’ç¨‹åº¦ (Level)</h3>
        <div class="space-y-4">
            <div class="p-5 border-4 border-blue-500 bg-blue-50 rounded-2xl cursor-pointer flex items-center gap-4 transition-transform hover:scale-105" onclick="changeLevel('B1-B2')">
                <div class="w-5 h-5 rounded-full bg-blue-500"></div>
                <span class="font-black text-blue-800 text-lg">B1-B2 ä¸­ç´š</span>
            </div>
            <div class="p-5 border-4 border-purple-500 bg-purple-50 rounded-2xl cursor-pointer flex items-center gap-4 transition-transform hover:scale-105" onclick="changeLevel('C1-C2')">
                <div class="w-5 h-5 rounded-full bg-purple-500"></div>
                <span class="font-black text-purple-800 text-lg">C1-C2 é«˜ç´š</span>
            </div>
        </div>
    </div>
</div>

<!-- å´é‚Šæ¬„ -->
<div class="sidebar shadow-2xl">
    <h2 class="text-2xl font-black text-slate-800 mb-6 tracking-tighter border-b-4 border-blue-100 pb-4 uppercase">ğŸ“š æ³•å¾‹å­¸ç¿’å°èˆª</h2>
    
    <div class="space-y-8 flex-1">
        <div>
            <label class="text-[14px] font-black text-slate-500 block mb-3 uppercase tracking-wider">ğŸ” å–®å…ƒæœå°‹ (Search Law)</label>
            <input type="text" id="article-search" class="search-input" placeholder="æœå°‹ç”Ÿæ´»æƒ…å¢ƒ..." oninput="handleSearch()">
            <div id="search-results-list" class="search-results shadow-lg"></div>
        </div>

        <div>
            <label class="text-[14px] font-black text-slate-500 block mb-3 uppercase tracking-wider">1. æ³•å…¸é¸æ“‡ (Choose Law)</label>
            <select id="law-category-selector" class="w-full p-4 border-2 border-slate-300 rounded-2xl text-sm font-black bg-white outline-none focus:border-blue-500 shadow-sm" onchange="onCategoryChange()"></select>
        </div>
        <div>
            <label class="text-[14px] font-black text-slate-500 block mb-3 uppercase tracking-wider">2. æ¢æ–‡é¸æ“‡ (Select Article)</label>
            <select id="article-selector" class="w-full p-4 border-2 border-slate-300 rounded-2xl text-sm font-black bg-white outline-none focus:border-blue-500 shadow-sm" onchange="updateContent()"></select>
        </div>
    </div>

    <div class="sidebar-footer">
        <div class="btn-footer btn-glossary" onclick="switchView('glossary')">ğŸ“š å®Œæ•´è©å½™åº« (Glossary)</div>
        <div class="btn-footer btn-log" onclick="openLogModal()">ğŸ“œ æ›´æ–°æ—¥èªŒ (Log)</div>
        <div class="btn-footer btn-info" onclick="openInfoModal()">â„¹ï¸ ç¶²ç«™è³‡è¨Šèˆ‡ç‰ˆæ¬Šè²æ˜</div>
        <div class="contact-info text-center font-black">
            ğŸ“ éŒ¯èª¤å›å ±ï¼šguowenjiaocai@gmail.com
        </div>
    </div>
</div>

<!-- å­¸ç¿’ä¸»ç•«é¢ -->
<div id="view-study" class="main-content">
    <div class="sticky-header" id="main-header">
        <h1 class="text-3xl font-black text-slate-800 tracking-tight">ğŸ“– æ³•æ¢å­¸ç¿’</h1>
        <div class="flex items-center gap-4">
            <div class="btn-quiz-mini" onclick="openQuizModal()"><span>ğŸ“</span> challenge</div>
            <div id="level-badge" onclick="openLevelModal()" class="badge-b1-b2 shadow-lg">
                <span id="badge-text">ç­‰ç´šï¼šB1-B2</span><span>â–¼</span>
            </div>
        </div>
    </div>
    <div id="intro-box" class="intro-quote">ğŸ’¡ ç”Ÿæ´»æå•è¼‰å…¥ä¸­...</div>
    <div class="section-teaching">
        <div class="card law-box">
            <h3 class="sub-title italic text-blue-700">ğŸ“œ æ³•å¾‹æ¢æ–‡åŸæ–‡ (Original)</h3>
            <p id="law-original" class="content-text text-slate-600 font-bold"></p>
        </div>
        <div class="card white-box">
            <h3 class="sub-title italic text-emerald-700">ğŸ’¡ æ³•æ¢èªªæ˜ (Explanation)</h3>
            <p id="law-simplified" class="content-text font-black text-slate-900"></p>
        </div>
    </div>
    <div class="section-penalty">
        <div class="card penalty-card-box">
            <div id="penalty-grid" class="penalty-container"></div>
        </div>
    </div>
</div>

<!-- è©å½™åº«ç¨ç«‹é é¢ -->
<div id="view-glossary" class="main-content hidden">
    <div class="sticky-header border-b-2 pb-6 mb-8">
        <div>
            <h1 class="text-4xl font-black text-slate-800 tracking-tight">ğŸ“– è©å½™åº« (Glossary)</h1>
            <p class="text-slate-500 font-bold mt-1 text-lg">å°ˆæ¥­è¡“èªè§£é‡‹</p>
        </div>
        <button class="btn-quiz-mini bg-blue-600 border-none px-10 py-4" onclick="switchView('study')">â¬… è¿”å›å­¸ç¿’</button>
    </div>
    <div class="mb-10">
        <label class="text-[16px] font-black text-slate-500 block mb-3 uppercase tracking-wider">ğŸ” æœå°‹è¾­åº« (Search Terms)</label>
        <input type="text" id="glossary-search" class="search-input py-6 text-2xl border-4" placeholder="è¼¸å…¥é—œéµå­—..." oninput="handleGlossarySearch()">
    </div>
    <div id="glossary-table-content" class="pb-20"></div>
</div>

<script>
    let currentLevel = "B1-B2";

    // è¾­åº«æ’ç‰ˆï¼šä¸€å±¬æ€§ä¸€åˆ†è¡Œ
    const globalGlossary = {
        "ç”³è«‹": { 
            pinyin: "shÄ“nqÇng", 
            en: "apply", 
            def: "å‘æ”¿åºœæˆ–æ©Ÿæ§‹æ­£å¼æå‡ºè¦æ±‚ã€‚" 
        },
        "å±…ç•™è­‰": { 
            pinyin: "jÅ«liÃº zhÃ¨ng", 
            en: "residence permit", 
            def: "è®“å¤–åœ‹äººå¯ä»¥åœ¨å°ç£åˆæ³•ä½ä¸€æ®µæ™‚é–“çš„è­‰ä»¶ã€‚" 
        },
        "å¤–åƒ‘": { 
            pinyin: "wÃ iqiÃ¡o", 
            en: "foreign national", 
            def: "ä½åœ¨å°ç£çš„å¤–åœ‹äººã€‚" 
        },
        "ç°½è­‰": { 
            pinyin: "qiÄnzhÃ¨ng", 
            en: "visa", 
            def: "é€²å…¥ä¸€å€‹åœ‹å®¶å‰éœ€è¦çš„è¨±å¯æ–‡ä»¶ã€‚" 
        },
        "å…¥å¢ƒ": { 
            pinyin: "rÃ¹jÃ¬ng", 
            en: "entry into a country", 
            def: "é€²å…¥ä¸€å€‹åœ‹å®¶ã€‚" 
        },
        "åˆæ³•": { 
            pinyin: "hÃ©fÇ", 
            en: "legal", 
            def: "äº‹æƒ…ç¬¦åˆè¦å®šï¼Œæ˜¯å¯ä»¥åšçš„ã€‚" 
        },
        "è³‡æ ¼": { 
            pinyin: "zÄ«gÃ©", 
            en: "qualification / eligibility", 
            def: "ä¸€å€‹äººæœ‰æ²’æœ‰æ¬Šåˆ©åšæŸä»¶äº‹ã€‚" 
        },
        "ç§»æ°‘ç½²": { 
            pinyin: "yÃ­mÃ­n shÇ”", 
            en: "National Immigration Agency", 
            def: "æ”¿åºœç®¡ç†å¤–åœ‹äººå…¥å¢ƒã€å±…ç•™çš„å–®ä½ã€‚" 
        },
        "è­‰ä»¶": { 
            pinyin: "zhÃ¨ngjiÃ n", 
            en: "official document / ID", 
            def: "å¯ä»¥è­‰æ˜èº«åˆ†æˆ–è³‡æ ¼çš„æ–‡ä»¶ã€‚" 
        },
        "åŠŸèƒ½": { 
            pinyin: "gÅngnÃ©ng", 
            en: "function", 
            def: "ä¸€å€‹æ±è¥¿å¯ä»¥ç”¨ä¾†åšä»€éº¼ã€‚" 
        },
        "æœ‰æ•ˆ": { 
            pinyin: "yÇ’uxiÃ o", 
            en: "valid", 
            def: "åœ¨è¦å®šçš„æ™‚é–“å…§ï¼Œå¯ä»¥ä½¿ç”¨ã€‚" 
        },
        "åœç•™": { 
            pinyin: "tÃ­ngliÃº", 
            en: "stay (short-term)", 
            def: "åœ¨ä¸€å€‹åœ°æ–¹çŸ­æ™‚é–“å¾…è‘—ï¼Œä¸æ˜¯é•·ä½ã€‚" 
        },
        "å±…ç•™": { 
            pinyin: "jÅ«liÃº", 
            en: "reside / residence", 
            def: "åœ¨ä¸€å€‹åœ°æ–¹ä½ä¸€æ®µæ¯”è¼ƒé•·çš„æ™‚é–“ã€‚" 
        },
        "è¨±å¯": { 
            pinyin: "xÇ”kÄ›", 
            en: "permission / permit", 
            def: "æ”¿åºœæˆ–å–®ä½åŒæ„ä½ åšæŸä»¶äº‹ã€‚" 
        },
        "ç¿Œæ—¥": { 
            pinyin: "yÃ¬rÃ¬", 
            en: "the next day", 
            def: "ä»Šå¤©çš„ä¸‹ä¸€å¤©ã€‚" 
        },
        "é€¾": { 
            pinyin: "yÃº", 
            en: "exceed / over", 
            def: "è¶…éè¦å®šçš„æ™‚é–“æˆ–æ•¸é‡ã€‚" 
        },
        "å…": { 
            pinyin: "miÇn", 
            en: "be exempt from / not need to", 
            def: "ä¸ç”¨åšæŸä»¶äº‹ã€‚" 
        },
		"ç¬¦åˆ": {
            pinyin: "fÃºhÃ©", 
            en: "meet / comply with", 
            def: "å’Œè¦æ±‚ä¸€æ¨£ï¼Œæ²’æœ‰å•é¡Œã€‚" 
        },
        "æƒ…æ³": {
            pinyin: "qÃ­ngkuÃ ng", 
            en: "situation / condition", 
            def: "äº‹æƒ…ç™¼ç”Ÿæ™‚çš„ç‹€æ…‹æˆ–åŸå› ã€‚" 
        },
        "è¦å®š": {
            pinyin: "guÄ«dÃ¬ng", 
            en: "regulation / rule", 
            def: "æ”¿åºœæˆ–å–®ä½è¨‚ä¸‹çš„è¦å‰‡ã€‚" 
        },
        "èº«åˆ†": {
            pinyin: "shÄ“nfÃ¨n", 
            en: "legal status / identity", 
            def: "ä¸€å€‹äººåœ¨æ³•å¾‹ä¸Šçš„èº«ä»½ã€‚" 
        },
        "å–å¾—": {
            pinyin: "qÇ”dÃ©", 
            en: "obtain / acquire", 
            def: "ç¶“éç”³è«‹å¾Œå¾—åˆ°ã€‚" 
        },
        "é…å¶": {
            pinyin: "pÃ¨iÇ’u", 
            en: "spouse", 
            def: "æ³•å¾‹ä¸Šçš„å¦ä¸€ä¼´ã€‚" 
        },
        "å­å¥³": {
            pinyin: "zÇ nÇš", 
            en: "children", 
            def: "è‡ªå·±çš„å­©å­ï¼ŒåŒ…æ‹¬å…’å­å’Œå¥³å…’ã€‚" 
        },
        "æ¢ä»¶": {
            pinyin: "tiÃ¡ojiÃ n", 
            en: "condition / requirement", 
            def: "ä¸€å®šè¦å…ˆåšåˆ°çš„è¦æ±‚ã€‚" 
        },
        "ä¹‹å¾Œ": {
            pinyin: "zhÄ«hÃ²u", 
            en: "after / afterwards", 
            def: "æŸä¸€å€‹æ™‚é–“é»ä»¥å¾Œã€‚" 
        },
        "ç›¸åŒ": {
            pinyin: "xiÄngtÃ³ng", 
            en: "same / identical", 
            def: "å…©å€‹æ±è¥¿ä¸€æ¨£ï¼Œæ²’æœ‰å·®åˆ¥ã€‚" 
        },
        "ä¸¦": {
            pinyin: "bÃ¬ng", 
            en: "and / also", 
            def: "é€£æ¥å…©ä»¶åŒæ™‚ç™¼ç”Ÿçš„äº‹æƒ…ã€‚" 
        },
        "é™åˆ¶": {
            pinyin: "xiÃ nzhÃ¬", 
            en: "restriction / limit", 
            def: "æœ‰è¦å‰‡ï¼Œä¸èƒ½è‡ªç”±åšã€‚" 
        },
        "æŠ•è³‡": {
            pinyin: "tÃ³uzÄ«", 
            en: "investment", 
            def: "æŠŠéŒ¢æˆ–è³‡æºç”¨ä¾†åšç”Ÿæ„ã€‚" 
        },
        "ç›¸é—œ": {
            pinyin: "xiÄngguÄn", 
            en: "related / relevant", 
            def: "å’ŒæŸä»¶äº‹æƒ…æœ‰é—œä¿‚ã€‚" 
        },
        "ç‰¹å®š": {
            pinyin: "tÃ¨dÃ¬ng", 
            en: "specific / designated", 
            def: "æŒ‡å®šçš„ï¼Œä¸æ˜¯å…¨éƒ¨ã€‚" 
        },
        "ç¶“ç‡Ÿ": {
            pinyin: "jÄ«ngyÃ­ng", 
            en: "operate / run (a business)", 
            def: "ç®¡ç†å’Œç™¼å±•ä¸€å€‹äº‹æ¥­ã€‚" 
        },
        "å»¶æœŸ": {
            pinyin: "yÃ¡nqÃ­", 
            en: "postpone / extend (time)", 
            def: "æ™‚é–“å¾€å¾Œæ¨ï¼Œä¸æ˜¯ç¾åœ¨ã€‚" 
        },
		        "æ ¸å‡†": {
            pinyin: "hÃ©zhÇ”n", 
            en: "approve", 
            def: "æ”¿åºœçœ‹éå¾Œèªªå¯ä»¥ã€‚" 
        },
        "ä½¿ç”¨": {
            pinyin: "shÇyÃ²ng", 
            en: "use", 
            def: "æ‹¿ä¾†ç”¨ã€‚" 
        },
        "é …": {
            pinyin: "xiÃ ng", 
            en: "item / clause", 
            def: "æ¢æ–‡æˆ–å…§å®¹ä¸­çš„ä¸€å€‹éƒ¨åˆ†ã€‚" 
        },
        "ä¸»ç®¡": {
            pinyin: "zhÇ”guÇn", 
            en: "in charge", 
            def: "è² è²¬ç®¡ç†çš„äººæˆ–å–®ä½ã€‚" 
        },
        "ä¹‹": {
            pinyin: "zhÄ«", 
            en: "of (formal)", 
            def: "è¡¨ç¤ºã€Œçš„ã€ï¼Œå¤šç”¨åœ¨æ­£å¼æ–‡ä»¶ã€‚" 
        },
        "æ©Ÿé—œ": {
            pinyin: "jÄ«guÄn", 
            en: "government agency", 
            def: "æ”¿åºœçš„å–®ä½ã€‚" 
        },
        "åœ°å€": {
            pinyin: "dÃ¬qÅ«", 
            en: "area / region", 
            def: "ä¸€å€‹åœ°æ–¹æˆ–å€åŸŸã€‚" 
        },
        "ç›®å‰": {
            pinyin: "mÃ¹qiÃ¡n", 
            en: "currently", 
            def: "ç¾åœ¨é€™å€‹æ™‚é–“ã€‚" 
        },
        "æ ¹æ“š": {
            pinyin: "gÄ“njÃ¹", 
            en: "according to / based on", 
            def: "ä¾ç…§æŸå€‹æ³•å¾‹æˆ–è³‡æ–™ã€‚" 
        },
        "åŠ": {
            pinyin: "jÃ­", 
            en: "and", 
            def: "é€£æ¥å‰å¾Œå…©å€‹å…§å®¹ï¼Œè¡¨ç¤ºã€Œå’Œã€ã€‚" 
        },
        "æ°¸ä¹…": {
            pinyin: "yÇ’ngjiÇ”", 
            en: "permanent", 
            def: "æ²’æœ‰æ™‚é–“é™åˆ¶ï¼Œä¸€ç›´æœ‰æ•ˆã€‚" 
        },
        "æ¬¾": {
            pinyin: "kuÇn", 
            en: "paragraph / sub-clause", 
            def: "æ³•å¾‹æ¢æ–‡ä¸­çš„ä¸€å°æ®µã€‚" 
        },
        "æˆ¶ç±": {
            pinyin: "hÃ¹jÃ­", 
            en: "household registration", 
            def: "æ”¿åºœè¨˜éŒ„çš„ä½å®¶è³‡æ–™ã€‚" 
        },
        "æœªæ»¿": {
            pinyin: "wÃ¨imÇn", 
            en: "under / not yet reached", 
            def: "é‚„ä¸åˆ°æŸå€‹å¹´é½¡æˆ–æ™‚é–“ã€‚" 
        },
        "äººæ‰": {
            pinyin: "rÃ©ncÃ¡i", 
            en: "talent / skilled person", 
            def: "æœ‰å°ˆæ¥­èƒ½åŠ›çš„äººã€‚" 
        },
        "æ•™å­¸": {
            pinyin: "jiÃ oxuÃ©", 
            en: "teaching", 
            def: "æ•™æ›¸å’Œä¸Šèª²ã€‚" 
        },
        "å°ˆæ¥­": {
            pinyin: "zhuÄnyÃ¨", 
            en: "professional / expertise", 
            def: "ç‰¹åˆ¥å­¸éã€å¾ˆç†Ÿçš„èƒ½åŠ›ã€‚" 
        },
        "åŸæœ¬": {
            pinyin: "yuÃ¡nbÄ›n", 
            en: "originally", 
            def: "ä¸€é–‹å§‹å°±æ˜¯é€™æ¨£ã€‚" 
        },
        "äº‹æ¥­": {
            pinyin: "shÃ¬yÃ¨", 
            en: "career / business", 
            def: "å·¥ä½œæˆ–å…¬å¸ã€‚" 
        },
        "èˆ‡": {
            pinyin: "yÇ”", 
            en: "and / with", 
            def: "è¡¨ç¤ºã€Œå’Œã€ï¼Œæ¯”è¼ƒæ­£å¼ã€‚" 
        },
        "å¾äº‹": {
            pinyin: "cÃ³ngshÃ¬", 
            en: "engage in", 
            def: "åšæŸä¸€ç¨®å·¥ä½œæˆ–æ´»å‹•ã€‚" 
        },
        "æŒçºŒ": {
            pinyin: "chÃ­xÃ¹", 
            en: "continue", 
            def: "ä¸€ç›´åšï¼Œæ²’æœ‰åœã€‚" 
        },
        "ä»¥å…": {
            pinyin: "yÇmiÇn", 
            en: "in order to avoid", 
            def: "ç‚ºäº†ä¸è¦ç™¼ç”Ÿä¸å¥½çš„äº‹ã€‚" 
        },
        "å‹å‹•": {
            pinyin: "lÃ¡odÃ²ng", 
            en: "labor / work", 
            def: "å·¥ä½œã€ä»˜å‡ºé«”åŠ›æˆ–æ™‚é–“ã€‚" 
        },
        "åœ‹æ°‘": {
            pinyin: "guÃ³mÃ­n", 
            en: "citizen", 
            def: "ä¸€å€‹åœ‹å®¶çš„äººæ°‘ã€‚" 
        },
        "å°±æ¥­": {
            pinyin: "jiÃ¹yÃ¨", 
            en: "employment", 
            def: "æœ‰å·¥ä½œã€‚" 
        },
        "æœŸé™": {
            pinyin: "qÄ«xiÃ n", 
            en: "time limit / period", 
            def: "å¯ä»¥ä½¿ç”¨çš„æ™‚é–“ã€‚" 
        },
        "æ©Ÿæ§‹": {
            pinyin: "jÄ«gÃ²u", 
            en: "institution / organization", 
            def: "çµ„ç¹”æˆ–å–®ä½ã€‚" 
        },
        "è¡Œæ”¿": {
            pinyin: "xÃ­ngzhÃ¨ng", 
            en: "administrative", 
            def: "æ”¿åºœçš„ç®¡ç†å·¥ä½œã€‚" 
        },
        "ä¸­å¤®": {
            pinyin: "zhÅngyÄng", 
            en: "central (government)", 
            def: "åœ‹å®¶å±¤ç´šï¼Œä¸æ˜¯åœ°æ–¹ã€‚" 
        },
        "æ•™è‚²éƒ¨": {
            pinyin: "jiÃ oyÃ¹ bÃ¹", 
            en: "Ministry of Education", 
            def: "ç®¡ç†å­¸æ ¡å’Œæ•™è‚²çš„æ”¿åºœå–®ä½ã€‚" 
        },
        "æ–¼": {
            pinyin: "yÃº", 
            en: "at / in (formal)", 
            def: "è¡¨ç¤ºã€Œåœ¨ã€æˆ–ã€Œæ–¼æŸæ™‚é–“ã€ï¼Œå¾ˆæ­£å¼ã€‚" 
        },
        "å±…ä½": {
            pinyin: "jÅ«zhÃ¹", 
            en: "live / reside", 
            def: "ä½åœ¨æŸå€‹åœ°æ–¹ã€‚" 
        },
        "è¨»å†Š": {
            pinyin: "zhÃ¹cÃ¨", 
            en: "register", 
            def: "æŠŠè³‡æ–™ç™»è¨˜åœ¨ç³»çµ±è£¡" 
        },
        "æŒ": {
            pinyin: "chÃ­", 
            en: "hold / possess", 
            def: "æ‹¿è‘—æˆ–æ“æœ‰ã€‚" 
        },
        "é€²è¡Œ": {
            pinyin: "jÃ¬nxÃ­ng", 
            en: "carry out / conduct", 
            def: "æ­£åœ¨åšæŸä»¶äº‹ã€‚" 
        },
        "å°±è®€": {
            pinyin: "jiÃ¹dÃº", 
            en: "be enrolled (in school)", 
            def: "åœ¨å­¸æ ¡å¿µæ›¸ã€‚" 
        },
        "å…è¨±": {
            pinyin: "yÇ”nxÇ”", 
            en: "allow / permit", 
            def: "åŒæ„ï¼Œå¯ä»¥åšã€‚" 
        },
        "ç¢ºèª": {
            pinyin: "quÃ¨rÃ¨n", 
            en: "confirm", 
            def: "å†æª¢æŸ¥ä¸€æ¬¡ï¼Œç¢ºå®šæ˜¯çœŸçš„ã€‚" 
        },
        "èªå®š": {
            pinyin: "rÃ¨ndÃ¬ng", 
            en: "officially determine", 
            def: "æ”¿åºœæ­£å¼åˆ¤å®šã€‚" 
        },
        "ä»»æ„": {
            pinyin: "rÃ¨nyÃ¬", 
            en: "arbitrary / at will", 
            def: "éš¨ä¾¿ã€æ²’æœ‰è¦å®šã€‚" 
        },
        "åŸæ–‡": {
            pinyin: "yuÃ¡nwÃ©n", 
            en: "original text", 
            def: "æ³•å¾‹æˆ–æ–‡ä»¶åŸä¾†çš„æ–‡å­—ã€‚" 
        },
        "å°Š": {
            pinyin: "zÅ«n", 
            en: "respect (formal)", 
            def: "è¡¨ç¤ºå°Šæ•¬ï¼Œå¤šç”¨åœ¨æ­£å¼ç”¨èªã€‚" 
        },
        "èªå¯": {
            pinyin: "rÃ¨nkÄ›", 
            en: "recognize / approve", 
            def: "æ­£å¼åŒæ„ã€æ‰¿èªã€‚" 
        },
        "é™„è¨­": {
            pinyin: "fÃ¹shÃ¨", 
            en: "affiliated / attached", 
            def: "å¦å¤–åŠ åœ¨ä¸€èµ·çš„ã€‚" 
        },
        "å»¶æ”¬": {
            pinyin: "yÃ¡nlÇn", 
            en: "recruit (talent)", 
            def: "è«‹å°ˆæ¥­çš„äººä¾†å·¥ä½œã€‚" 
        },
        "æ‹›æ”¶": {
            pinyin: "zhÄoshÅu", 
            en: "admit / recruit", 
            def: "å­¸æ ¡æˆ–å–®ä½æ”¶å­¸ç”Ÿæˆ–äººå“¡ã€‚" 
        },
        "å¤§å°ˆé™¢æ ¡": {
            pinyin: "dÃ zhuÄn yuÃ n xiÃ o", 
            en: "colleges and universities", 
            def: "å¤§å­¸å’Œå°ˆç§‘å­¸æ ¡ã€‚" 
        },
        "æ†‘è­‰": {
            pinyin: "pÃ­ngzhÃ¨ng", 
            en: "certificate / credential", 
            def: "ç”¨ä¾†è­‰æ˜èº«åˆ†æˆ–è³‡æ ¼çš„æ–‡ä»¶ã€‚" 
        },
        "è¦ªå±¬": {
            pinyin: "qÄ«nshÇ”", 
            en: "relative / family member", 
            def: "å®¶äººï¼Œå¦‚é…å¶ã€å­å¥³ã€‚" 
        },
        "å‚™è¨»": {
            pinyin: "bÃ¨izhÃ¹", 
            en: "note / remark", 
            def: "è£œå……èªªæ˜çš„å…§å®¹ã€‚" 
        }
    };

    // æ³•è¦
    const studyData = [
        { 
            category: "å…¥å‡ºåœ‹åŠç§»æ°‘æ³•", 
            id: "imm_22", 
            name: "ç¬¬ 22 æ¢ (å…¥å¢ƒå¾Œå±…ç•™è­‰)", 
            intro: "å¦‚æœæˆ‘æƒ³é•·æ™‚é–“ç•™åœ¨å°ç£ï¼Œéœ€è¦è¾¦ä»€éº¼è­‰ä»¶ï¼Ÿ", 
			original: `1. å¤–åœ‹äººæŒæœ‰æ•ˆç°½è­‰æˆ–é©ç”¨ä»¥å…ç°½è­‰æ–¹å¼å…¥åœ‹ä¹‹æœ‰æ•ˆè­·ç…§æˆ–æ—…è¡Œè­‰ä»¶ï¼Œç¶“ç§»æ°‘ç½²æŸ¥é©—è¨±å¯å…¥åœ‹å¾Œï¼Œå–å¾—åœç•™ã€å±…ç•™è¨±å¯ã€‚
			
2. ä¾å‰é …è¦å®šå–å¾—å±…ç•™è¨±å¯è€…ï¼Œæ‡‰æ–¼å…¥åœ‹å¾Œä¹‹ç¿Œæ—¥èµ·ç®—ä¸‰åæ—¥å…§ï¼Œå‘ç§»æ°‘ç½²ç”³è«‹å¤–åƒ‘å±…ç•™è­‰ã€‚ä½†ç”³è«‹å–å¾—å·¥ä½œè¨±å¯ã€å±…ç•™ç°½è­‰ã€å¤–åƒ‘å±…ç•™è­‰åŠé‡å…¥åœ‹è¨±å¯å››è­‰åˆä¸€ä¹‹æœ‰æ•ˆè­‰ä»¶ï¼Œæˆ–å…¶ä»–å·²å«æœ‰å¤–åƒ‘å±…ç•™è­‰åŠŸèƒ½ä¹‹è­‰ä»¶è€…ï¼Œå¾—å…ç”³è«‹å¤–åƒ‘å±…ç•™è­‰ã€‚

3. å¤–åƒ‘å±…ç•™è­‰ä¹‹æœ‰æ•ˆæœŸé–“ï¼Œè‡ªè¨±å¯ä¹‹ç¿Œæ—¥èµ·ç®—ï¼Œæœ€é•·ä¸å¾—é€¾ä¸‰å¹´ã€‚`,             levels: { 
                "B1-B2": { 
					simplified: `å¦‚æœä½ æœ‰ç°½è­‰ï¼Œæˆ–æ˜¯å¯ä»¥ç”¨å…ç°½è­‰çš„æ–¹å¼ä¾†å°ç£ï¼Œåœ¨ç§»æ°‘ç½²åŒæ„å¾Œï¼Œä½ å°±å¯ä»¥åˆæ³•åœ°å…¥å¢ƒå°ç£ï¼Œä¹Ÿå¯ä»¥åœ¨å°ç£åœç•™æˆ–å±…ç•™ã€‚
					
å¦‚æœä½ å·²ç¶“æœ‰å±…ç•™è³‡æ ¼ï¼Œä½ éœ€è¦åœ¨å…¥å¢ƒå¾Œä¸‰åå¤©å…§ï¼Œåˆ°ç§»æ°‘ç½²ç”³è«‹å¤–åƒ‘å±…ç•™è­‰ã€‚

å¦‚æœä½ æƒ³è¦ç”³è«‹çš„è­‰ä»¶ä¹Ÿæœ‰å±…ç•™è­‰çš„åŠŸèƒ½ï¼Œä½ ä¸éœ€è¦å¦å¤–ç”³è«‹å¤–åƒ‘å±…ç•™è­‰ã€‚

å¤–åƒ‘å±…ç•™è­‰æœ€å¤šå¯ä»¥ç”¨ä¸‰å¹´ã€‚`,                    
					question: "å…¥å¢ƒå¾Œå¤šä¹…å…§è¦è¾¦å±…ç•™è­‰ï¼Ÿ", 
                    options: ["30å¤©å…§ã€‚", "90å¤©å…§ã€‚"], 
                    answer: 0, 
                    feedback: "æ³•å¾‹è¦å®šçš„æ™‚é–“æ˜¯30å¤©ä»¥å…§ã€‚" 
                },
                "C1-C2": { 
                    simplified: `å¤–åœ‹äººå–å¾—å±…ç•™è³‡æ ¼å¾Œï¼ŒåŸå‰‡ä¸Šæ‡‰æ–¼ä¸‰åæ—¥å…§ç”³è«‹å±…ç•™è­‰ã€‚

é è¨ˆç”³è«‹å››è­‰åˆä¸€ç­‰æœ‰æ•ˆè­‰ä»¶è€…ï¼Œå¾—å…æ–¼å¦å¤–é€²è¡Œç”³è«‹å¤–åƒ‘å±…ç•™è­‰çš„ç”³è«‹ã€‚

å±…ç•™è­‰æœ‰æ•ˆæœŸé™ç‚ºä¸‰å¹´ã€‚`, 
                    question: "ç”²æ˜¯ä¸€åå¤–åœ‹äººï¼ŒæŒæœ‰æ•ˆå±…ç•™ç°½è­‰å…¥å¢ƒå°ç£ï¼Œä¸¦ç¶“ç§»æ°‘ç½²æŸ¥é©—è¨±å¯å¾Œå–å¾—å±…ç•™è³‡æ ¼ã€‚å…¥å¢ƒå¾Œç¬¬äºŒåæ—¥ï¼Œç”²å°šæœªå‘ç§»æ°‘ç½²ç”³è«‹å¤–åƒ‘å±…ç•™è­‰ï¼Œä½†ç”²å·²æˆåŠŸå–å¾—ä¸€å¼µã€Œå››è­‰åˆä¸€ã€ä¹‹æœ‰æ•ˆè­‰ä»¶ï¼Œä¸”è©²è­‰ä»¶åŒ…å«å¤–åƒ‘å±…ç•™è­‰ä¹‹åŠŸèƒ½ã€‚\n\nä¾æœ¬æ¢è¦å®šï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ", 
                    options: ["ç”²æœªæ–¼å…¥å¢ƒå¾Œä¸‰åæ—¥å…§ç”³è«‹å¤–åƒ‘å±…ç•™è­‰ï¼Œå·²é•åè¦å®š", "ç”²å› å·²æŒæœ‰åŒ…å«å¤–åƒ‘å±…ç•™è­‰åŠŸèƒ½ä¹‹æœ‰æ•ˆè­‰ä»¶ï¼Œå¾—å…å†ç”³è«‹å¤–åƒ‘å±…ç•™è­‰"], 
                    answer: 1, 
                    feedback: "æœ¬æ¢è¦å®šï¼Œå–å¾—å±…ç•™è³‡æ ¼è€…ï¼ŒåŸå‰‡ä¸Šé ˆæ–¼å…¥å¢ƒç¿Œæ—¥èµ·ä¸‰åæ—¥å…§ç”³è«‹å¤–åƒ‘å±…ç•™è­‰ï¼›ç„¶è€Œï¼Œè‹¥ç•¶äº‹äººå·²å–å¾—åŒ…å«å¤–åƒ‘å±…ç•™è­‰åŠŸèƒ½ä¹‹æœ‰æ•ˆè­‰ä»¶ï¼Œå³å±¬ä¾‹å¤–æƒ…å½¢ï¼Œå¾—å…é‡è¤‡ç”³è«‹ã€‚å› æ­¤ï¼Œå³ä½¿å°šæœªå¦è¡Œç”³è«‹å¤–åƒ‘å±…ç•™è­‰ï¼Œäº¦ä¸æ§‹æˆé•åè¦å®šã€‚" 
                } 
            } 
        },
        { 
            category: "å…¥å‡ºåœ‹åŠç§»æ°‘æ³•", 
            id: "imm_23", 
            name: "ç¬¬ 23 æ¢ (ç”³è«‹å¤–åƒ‘å±…ç•™è­‰)", 
            intro: "å¦‚æœæˆ‘æƒ³ç”³è«‹å¤–åƒ‘å±…ç•™è­‰ï¼Œæˆ‘éœ€è¦ç¬¦åˆå“ªäº›è³‡æ ¼ï¼Ÿ", 
			original: `1. æŒåœç•™æœŸé™åœ¨å…­åæ—¥ä»¥ä¸Šï¼Œä¸”æœªç¶“ç°½è­‰æ ¸ç™¼æ©Ÿé—œåŠ è¨»é™åˆ¶ä¸å‡†å»¶æœŸæˆ–å…¶ä»–é™åˆ¶ä¹‹æœ‰æ•ˆç°½è­‰å…¥åœ‹ä¹‹å¤–åœ‹äººï¼Œæœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€è€…ï¼Œå¾—å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ï¼Œç¶“è¨±å¯è€…ï¼Œæ ¸ç™¼å¤–åƒ‘å±…ç•™è­‰ï¼š
			
ä¸€ã€é…å¶ç‚ºç¾åœ¨åœ¨è‡ºç£åœ°å€å±…ä½ä¸”è¨­æœ‰æˆ¶ç±æˆ–ç²å‡†å±…ç•™ä¹‹æˆ‘åœ‹åœ‹æ°‘ï¼Œæˆ–ç¶“æ ¸å‡†å±…ç•™æˆ–æ°¸ä¹…å±…ç•™ä¹‹å¤–åœ‹äººï¼Œæˆ–ç¶“æ ¸å‡†å±…ç•™ä¹‹é¦™æ¸¯æˆ–æ¾³é–€å±…æ°‘ã€‚ä½†è©²ç¶“æ ¸å‡†å±…ç•™ä¹‹é…å¶ä¿‚ä¾ç¬¬ä¹æ¬¾æˆ–ç¬¬åæ¬¾è¦å®šç¶“è¨±å¯ï¼Œæˆ–ç¶“ä¸­å¤®å‹å‹•ä¸»ç®¡æ©Ÿé—œè¨±å¯åœ¨æˆ‘åœ‹å¾äº‹å°±æ¥­æœå‹™æ³•ç¬¬å››åå…­æ¢ç¬¬ä¸€é …ç¬¬å…«æ¬¾è‡³ç¬¬åæ¬¾å·¥ä½œè€…ï¼Œä¸å¾—ç”³è«‹ã€‚

äºŒã€æœªæ»¿åå…«æ­²ï¼Œå…¶ç›´ç³»å°Šè¦ªå±¬ç‚ºç¾åœ¨åœ¨è‡ºç£åœ°å€è¨­æœ‰æˆ¶ç±æˆ–ç²å‡†å±…ç•™ä¹‹æˆ‘åœ‹åœ‹æ°‘ï¼Œæˆ–ç¶“æ ¸å‡†å±…ç•™æˆ–æ°¸ä¹…å±…ç•™ä¹‹å¤–åœ‹äººï¼Œæˆ–ç¶“æ ¸å‡†å±…ç•™ä¹‹é¦™æ¸¯æˆ–æ¾³é–€å±…æ°‘ã€‚å…¶è¦ªå±¬é—œä¿‚å› æ”¶é¤Šè€Œç™¼ç”Ÿè€…ï¼Œè¢«æ”¶é¤Šè€…æ‡‰èˆ‡æ”¶é¤Šè€…åœ¨è‡ºç£åœ°å€å…±åŒå±…ä½ã€‚ä½†è©²ç¶“æ ¸å‡†å±…ç•™ä¹‹ç›´ç³»å°Šè¦ªå±¬ä¿‚ä¾ç¬¬ä¹æ¬¾æˆ–ç¬¬åæ¬¾è¦å®šç¶“è¨±å¯ï¼Œæˆ–ç¶“ä¸­å¤®å‹å‹•ä¸»ç®¡æ©Ÿé—œè¨±å¯åœ¨æˆ‘åœ‹å¾äº‹å°±æ¥­æœå‹™æ³•ç¬¬å››åå…­æ¢ç¬¬ä¸€é …ç¬¬å…«æ¬¾è‡³ç¬¬åæ¬¾å·¥ä½œè€…ï¼Œä¸å¾—ç”³è«‹ã€‚

ä¸‰ã€ç‚ºç¾åœ¨åœ¨è‡ºç£åœ°å€å¾äº‹æŠ•è³‡ç¶“ç‡Ÿç®¡ç†ä¸”å·²å¯¦è¡ŒæŠ•è³‡ã€è·¨åœ‹ä¼æ¥­å…§éƒ¨èª¿å‹•æœå‹™ã€å­¸è¡“ç§‘æŠ€ç ”ç©¶æˆ–é•·æœŸç”¢æ¥­ç§‘æŠ€ç ”ç©¶ä¹‹å¤§é™¸åœ°å€äººæ°‘ä¹‹é…å¶ã€æœªæ»¿åå…«æ­²å­å¥³åŠå¹´æ»¿åå…«æ­²å› èº«å¿ƒéšœç¤™ç„¡æ³•è‡ªç†ç”Ÿæ´»ä¹‹å­å¥³ã€‚

å››ã€ç¶“ä¸­å¤®å‹å‹•ä¸»ç®¡æ©Ÿé—œæˆ–ç›®çš„äº‹æ¥­ä¸»ç®¡æ©Ÿé—œè¨±å¯åœ¨æˆ‘åœ‹å¾äº‹å°±æ¥­æœå‹™æ³•ç¬¬å››åå…­æ¢ç¬¬ä¸€é …ç¬¬ä¸€æ¬¾è‡³ç¬¬ä¸ƒæ¬¾ã€ç¬¬åä¸€æ¬¾ä¹‹å·¥ä½œæˆ–å¾äº‹å°±æ¥­æœå‹™æ³•ç¬¬å››åå…«æ¢ç¬¬ä¸€é …ç¬¬ä¸€æ¬¾ã€ç¬¬ä¸‰æ¬¾è¦å®šå…ç¶“è¨±å¯ä¹‹å·¥ä½œï¼Œæˆ–å¾äº‹å¤–åœ‹å°ˆæ¥­äººæ‰å»¶æ”¬åŠåƒ±ç”¨æ³•ç¬¬å››æ¢ç¬¬å››æ¬¾ç¬¬å››ç›®ã€ç¬¬äº”ç›®ã€ç¬¬å…«æ¢ã€ç¬¬åæ¢ä¹‹å°ˆæ¥­å·¥ä½œï¼Œæˆ–ä¾è©²æ³•ç¬¬åäº”æ¢ç¬¬ä¸€é …å–å¾—å·¥ä½œè¨±å¯ã€‚

äº”ã€åœ¨æˆ‘åœ‹æœ‰ä¸€å®šé‡‘é¡ä»¥ä¸Šä¹‹æŠ•è³‡ï¼Œç¶“ä¸­å¤®ç›®çš„äº‹æ¥­ä¸»ç®¡æ©Ÿé—œæ ¸å‡†æˆ–å‚™æŸ¥ä¹‹æŠ•è³‡äººæˆ–å¤–åœ‹æ³•äººæŠ•è³‡äººä¹‹ä»£è¡¨äººã€‚

å…­ã€å¤–åœ‹å…¬å¸åœ¨æˆ‘åœ‹å¢ƒå…§ä¹‹è² è²¬äººã€‚

ä¸ƒã€ä¾å‰ä¸‰æ¬¾è¦å®šï¼Œç¶“æ ¸å‡†å±…ç•™æˆ–æ°¸ä¹…å±…ç•™è€…ï¼Œå…¶å¹´æ»¿åå…«æ­²å› èº«å¿ƒéšœç¤™ç„¡æ³•è‡ªç†ç”Ÿæ´»ä¹‹å­å¥³ã€‚

å…«ã€ç¶“åƒ‘å‹™ä¸»ç®¡æ©Ÿé—œæ ¸è½‰å„ç´šä¸»ç®¡æ•™è‚²è¡Œæ”¿æ©Ÿé—œåˆ†ç™¼ä¹‹è‡ªè¡Œå›åœ‹å°±å­¸åƒ‘ç”Ÿã€‚

ä¹ã€é…å¶æ­»äº¡æ™‚ç‚ºå±…ä½è‡ºç£åœ°å€è¨­æœ‰æˆ¶ç±åœ‹æ°‘ï¼Œä¸¦å°åœ¨è‡ºç£åœ°å€å·²è¨­æœ‰æˆ¶ç±æœªæˆå¹´å­å¥³ï¼Œæœ‰æ’«è‚²äº‹å¯¦ã€è¡Œä½¿è² æ“”æ¬Šåˆ©ç¾©å‹™æˆ–æœƒé¢äº¤å¾€ã€‚

åã€æ›¾ç‚ºå±…ä½è‡ºç£åœ°å€è¨­æœ‰æˆ¶ç±åœ‹æ°‘ä¹‹é…å¶ï¼Œä¸”æ›¾åœ¨æˆ‘åœ‹åˆæ³•å±…ç•™ï¼Œå°åœ¨è‡ºç£åœ°å€å·²è¨­æœ‰æˆ¶ç±æœªæˆå¹´å­å¥³ï¼Œæœ‰æ’«è‚²äº‹å¯¦ã€è¡Œä½¿è² æ“”æ¬Šåˆ©ç¾©å‹™æˆ–æœƒé¢äº¤å¾€ã€‚

2. ä»¥&zwnj;å…ç°½è­‰æˆ–æŒåœç•™ç°½è­‰å…¥åœ‹ä¹‹å¤–åœ‹äººï¼Œå…¶ç¬¦åˆå‰é …ç¬¬å››æ¬¾è¦å®šè€…ï¼Œå¾—å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ï¼Œç¶“è¨±å¯è€…ï¼Œæ ¸ç™¼å¤–åƒ‘å±…ç•™è­‰ã€‚

3. ä¾å‰é …è¦å®šç¶“è¨±å¯å±…ç•™æˆ–æŒå±…ç•™ç°½è­‰å…¥åœ‹ç¶“è¨±å¯å±…ç•™ï¼Œä¸”ç¬¦åˆç¬¬ä¸€é …ç¬¬å››æ¬¾è¦å®šè€…ï¼Œå…¶é…å¶ã€æœªæ»¿åå…«æ­²å­å¥³åŠå¹´æ»¿åå…«æ­²å› èº«å¿ƒéšœç¤™ç„¡æ³•è‡ªç†ç”Ÿæ´»ä¹‹å­å¥³ï¼Œä»¥å…ç°½è­‰æˆ–æŒåœç•™ç°½è­‰å…¥åœ‹è€…ï¼Œå¾—å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ï¼Œç¶“è¨±å¯è€…ï¼Œæ ¸ç™¼å¤–åƒ‘å±…ç•™è­‰ã€‚

4. å¤–åœ‹äººç”³è«‹å±…ç•™åŸå› èˆ‡å…¶åŸæŒæ†‘å…¥åœ‹ä¹‹åœç•™ç°½è­‰ç›®çš„ç›¸ç¬¦ï¼Œä¸”æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€è€…ï¼Œå¾—å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ï¼Œç¶“è¨±å¯è€…ï¼Œæ ¸ç™¼å¤–åƒ‘å±…ç•™è­‰ï¼š

ä¸€ã€ç¶“å„ç´šä¸»ç®¡æ•™è‚²è¡Œæ”¿æ©Ÿé—œã€å¤§å­¸æˆ–å…¶çµ„æˆä¹‹æµ·å¤–è¯åˆæ‹›ç”Ÿå§”å“¡æœƒè¨±å¯åœ¨æˆ‘åœ‹å°±å­¸ä¹‹åƒ‘ç”Ÿã€‚

äºŒã€ç¶“å„ç´šä¸»ç®¡æ•™è‚²è¡Œæ”¿æ©Ÿé—œæ ¸å®šå¾—æ‹›æ”¶å¤–åœ‹å­¸ç”Ÿä¹‹å­¸æ ¡è¨±å¯åœ¨æˆ‘åœ‹å°±å­¸ä¹‹å­¸ç”Ÿã€‚

ä¸‰ã€åœ¨æ•™è‚²éƒ¨èªå¯å¤§å°ˆæ ¡é™¢é™„è¨­ä¹‹è¯èªæ•™å­¸æ©Ÿæ§‹å°±è®€æ»¿å››å€‹æœˆï¼Œä¸¦ç¹¼çºŒè¨»å†Šä¸‰å€‹æœˆä»¥ä¸Šä¹‹å­¸ç”Ÿã€‚`, 
            levels: { 
                "B1-B2": { 
			simplified: `é€™ä¸€æ¢æ˜¯åœ¨èªªï¼šå¦‚æœä½ æœ¬ä¾†æ˜¯ä¾†å°ç£åœç•™ï¼Œä»€éº¼æƒ…æ³ä¸‹å¯ä»¥ç”³è«‹æ”¹æˆå±…ç•™ï¼Œä¸¦æ‹¿åˆ°å¤–åƒ‘å±…ç•™è­‰ã€‚
			
å¦‚æœä½ æ˜¯å¤–åœ‹äººï¼Œæ‹¿è‘—åœç•™æ™‚é–“å…­åæ—¥ä»¥ä¸Šçš„æœ‰æ•ˆç°½è­‰å…¥å¢ƒï¼Œè€Œä¸”ä½ çš„ç°½è­‰ä¸Šæ²’æœ‰å¯«ä¸èƒ½å»¶æœŸæˆ–å…¶ä»–é™åˆ¶ï¼Œåœ¨ç¬¦åˆè¦å®šçš„æƒ…æ³ä¸‹ï¼Œå°±å¯ä»¥å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ã€‚

å¦‚æœä½ ç”³è«‹å±…ç•™çš„ç›®çš„ï¼Œæ˜¯å› ç‚ºçµå©šæˆ–å®¶åº­é—œä¿‚ã€åœ¨å°ç£å·¥ä½œã€æŠ•è³‡æˆ–ç¶“ç‡Ÿå…¬å¸ï¼Œæˆ–æ˜¯ä¾†å°ç£è®€æ›¸ï¼Œåªè¦ä½ çš„èº«åˆ†ç¬¦åˆè¦å®šï¼Œå°±æœ‰æ©Ÿæœƒç”³è«‹å±…ç•™ã€‚ä¸éï¼Œå¦‚æœä½ çš„é…å¶æˆ–å®¶äººï¼Œæ˜¯å› æŸäº›ç‰¹å®šå·¥ä½œèº«åˆ†å–å¾—å±…ç•™ï¼Œå°±ä¸èƒ½ç”¨é€™ä¸€æ¢ä¾†ç”³è«‹ã€‚

å¦å¤–ï¼Œå¦‚æœä½ æ˜¯ç”¨å…ç°½è­‰æˆ–åœç•™ç°½è­‰å…¥å¢ƒï¼Œåªè¦ä¹‹å¾Œå–å¾—åœ¨å°ç£å·¥ä½œçš„è³‡æ ¼ï¼Œä¹Ÿå¯ä»¥ç”³è«‹å±…ç•™ã€‚å·²ç¶“å–å¾—å±…ç•™èº«åˆ†çš„äººï¼Œå¦‚æœä»–çš„é…å¶æˆ–å­å¥³æ˜¯ç”¨å…ç°½æˆ–åœç•™ç°½è­‰å…¥å¢ƒï¼Œåœ¨ç¬¦åˆæ¢ä»¶çš„æƒ…æ³ä¸‹ï¼Œä¹Ÿå¯ä»¥ä¸€èµ·ç”³è«‹å±…ç•™ã€‚

æœ€å¾Œï¼Œå¦‚æœä½ ç”³è«‹å±…ç•™çš„åŸå› ï¼Œå’Œä½ ä¸€é–‹å§‹ä¾†å°ç£çš„ç›®çš„ç›¸åŒï¼Œä¾‹å¦‚ä½ æ˜¯ä¾†å°ç£å¿µæ›¸ï¼Œè€Œä¸”ä¹Ÿç¬¦åˆç›¸é—œè¦å®šï¼Œä¹Ÿå¯ä»¥ä¾é€™ä¸€æ¢ç”³è«‹å±…ç•™ã€‚`,                     
			question: "å°æ˜æ˜¯å¤–åœ‹äººï¼ŒæŒæœ‰åœç•™æœŸé™å…­åæ—¥ä»¥ä¸Šçš„æœ‰æ•ˆç°½è­‰å…¥å¢ƒå°ç£ï¼Œç°½è­‰ä¸Šä¹Ÿæ²’æœ‰å¯«ä¸èƒ½å»¶æœŸã€‚ä»–ä¾†å°ç£å¾Œï¼Œå–å¾—äº†åœ¨å°ç£å·¥ä½œçš„è³‡æ ¼ï¼Œæƒ³ç”³è«‹å±…ç•™ã€‚\n\næ ¹æ“šæœ¬æ¢è¦å®šï¼Œä¸‹åˆ—å“ªä¸€å€‹èªªæ³•æ˜¯æ­£ç¢ºçš„ï¼Ÿ", 
                    options: ["åªè¦æ˜¯åœç•™ç°½è­‰å…¥å¢ƒï¼Œå°±ä¸€å®šä¸èƒ½ç”³è«‹å±…ç•™", "åªè¦ç¬¦åˆå·¥ä½œç­‰è¦å®šï¼Œå³ä½¿åŸæœ¬æ˜¯åœç•™èº«åˆ†ï¼Œä¹Ÿå¯ä»¥ç”³è«‹å±…ç•™"], 
                    answer: 1, 
                    feedback: "æ³•å¾‹è¦å®šï¼Œåªè¦æŒæœ‰ç¬¦åˆæ¢ä»¶çš„åœç•™ç°½è­‰ï¼Œä¸¦å› å·¥ä½œã€å®¶åº­æˆ–å°±å­¸ç­‰åŸå› ç¬¦åˆè¦å®šï¼Œå°±å¯ä»¥å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ï¼Œä¸æ˜¯åªæœ‰ä¸€é–‹å§‹æ‹¿å±…ç•™ç°½è­‰çš„äººæ‰èƒ½ç”³è«‹ã€‚" 
                },
                "C1-C2": { 
                    simplified:`1. å¤–åœ‹äººä½¿ç”¨åœç•™æœŸé™å…­åæ—¥ä»¥ä¸Šä¹‹æœ‰æ•ˆç°½è­‰å…¥å¢ƒï¼Œä¸¦ä¸”ç°½è­‰æ²’æœ‰è¢«å‚™è¨»ä¸å¾—å»¶æœŸæˆ–å…¶ä»–é™åˆ¶æ™‚ï¼Œå¦‚æœç¬¦åˆä»¥ä¸‹ä»»æ„ä¸€é …è³‡æ ¼ï¼Œå°±å¯ä»¥è·Ÿç§»æ°‘ç½²ç”³è«‹å±…ç•™ã€‚ç¶“éæ ¸å‡†ï¼Œæ ¸ç™¼å¤–åƒ‘å±…ç•™è­‰ï¼š
					
ï¼ˆä¸€ï¼‰é…å¶æ˜¯ç›®å‰å±…ä½æ–¼è‡ºç£åœ°å€ä¸¦è¨­æœ‰æˆ¶ç±çš„å°ç£åœ‹æ°‘ï¼Œæˆ–ç¶“éæ ¸å‡†å±…ç•™æˆ–æ°¸ä¹…å±…ç•™çš„å¤–åœ‹äººã€‚

ï¼ˆäºŒï¼‰æœªæ»¿åå…«æ­²ï¼Œä¸”ç›´ç³»å°Šè¦ªå±¬æ˜¯ç›®å‰åœ¨è‡ºç£åœ°å€è¨­æœ‰æˆ¶ç±çš„å°ç£äººï¼Œæˆ–ç¶“æ ¸å‡†å±…ç•™æˆ–æ°¸ä¹…å±…ç•™ä¹‹å¤–åœ‹äººã€‚

ï¼ˆä¸‰ï¼‰ç¶“éä¸­å¤®å‹å‹•ä¸»ç®¡æ©Ÿé—œæˆ–ç›®çš„äº‹æ¥­ä¸»ç®¡æ©Ÿé—œçš„è¨±å¯ï¼Œåœ¨å°ç£å¾äº‹ã€Šå°±æ¥­æœå‹™æ³•ã€‹èªå®šçš„å·¥ä½œï¼Œæˆ–æ ¹æ“šã€Šå¤–åœ‹å°ˆæ¥­äººæ‰å»¶æ”¬åŠåƒ±ç”¨æ³•ã€‹å–å¾—å·¥ä½œçš„äººã€‚

ï¼ˆå››ï¼‰å…¶ä»–ï¼šå¾åŸæ–‡é€²è¡Œç¢ºèªã€‚

2. ä½¿ç”¨å…ç°½è­‰æˆ–åœç•™ç°½è­‰å…¥å¢ƒï¼Œè€Œä¸”ç¬¦åˆå‰é …ç¬¬ä¸‰æ¬¾ï¼ˆå·¥ä½œè¨±å¯ï¼‰è¦å®šçš„å¤–åœ‹äººï¼Œå¯ä»¥å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ï¼›ç¶“éæ ¸å‡†ï¼Œæ ¸ç™¼å¤–åƒ‘å±…ç•™è­‰ã€‚

3. æ ¹æ“šå‰é …è¦å®šå¾—åˆ°å±…ç•™çš„å…è¨±ï¼Œæˆ–ä½¿ç”¨å±…ç•™ç°½è­‰å…¥å¢ƒä¸¦ç¶“éæ ¸å‡†å±…ç•™ï¼Œä¸”ç¬¦åˆç¬¬ä¸€é …ç¬¬ä¸‰æ¬¾è¦å®šçš„äººï¼Œé…å¶åŠæœªæ»¿åå…«æ­²çš„å­å¥³ï¼Œå¦‚æœä»¥å…ç°½è­‰æˆ–æŒåœç•™ç°½è­‰å…¥å¢ƒï¼Œå¯ä»¥å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ï¼›ç¶“éæ ¸å‡†ï¼Œæ ¸ç™¼å¤–åƒ‘å±…ç•™è­‰ã€‚

4. å¤–åœ‹äººç”³è«‹å±…ç•™çš„åŸå› ï¼Œèˆ‡åŸæœ¬ä½¿ç”¨æ†‘è­‰å…¥å¢ƒçš„åœç•™ç°½è­‰ç›®çš„ç›¸åŒï¼Œä¸”ç¬¦åˆä»¥ä¸‹ä»»ä¸€ä¸€ç¨®æƒ…å½¢çš„äººï¼Œå¯ä»¥å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ï¼›ç¶“éæ ¸å‡†ï¼Œæ ¸ç™¼å¤–åƒ‘å±…ç•™è­‰ï¼š

ï¼ˆä¸€ï¼‰ç¶“éä¸»ç®¡æ•™è‚²è¡Œæ”¿æ©Ÿé—œæ ¸å‡†å¯ä»¥æ‹›æ”¶å¤–åœ‹å­¸ç”Ÿçš„å­¸æ ¡ï¼Œè¨±å¯åœ¨å°ç£è®€æ›¸çš„å¤–åœ‹å­¸ç”Ÿã€‚

ï¼ˆäºŒï¼‰åœ¨æ•™è‚²éƒ¨èªå¯çš„å¤§å°ˆé™¢æ ¡é™„è¨­è¯èªæ–‡æ•™å­¸æ©Ÿæ§‹å°±è®€æ»¿å››å€‹æœˆï¼Œä¸¦æŒçºŒè¨»å†Šä¸‰å€‹æœˆä»¥ä¸Šä¹‹å­¸ç”Ÿã€‚`,  
                    question: "å¤–åœ‹äººä»¥å…ç°½è­‰å…¥å¢ƒè‡ºç£ï¼Œä¸¦å·²å–å¾—åˆæ³•å·¥ä½œè¨±å¯ã€‚ä¾æœ¬æ–‡è¦å®šï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ", 
                    options: ["ä¸å¾—ä»¥å…ç°½è­‰èº«åˆ†ç”³è«‹å±…ç•™ã€‚", "å¾—å‘ç§»æ°‘ç½²ç”³è«‹å±…ç•™ã€‚"], 
                    answer: 1, 
                    feedback: "æ³•å¾‹æ˜ç¢ºè¦å®šï¼Œç¬¦åˆå·¥ä½œè¨±å¯æ¢ä»¶è€…ï¼Œå³ä½¿ä»¥å…ç°½è­‰å…¥å¢ƒï¼Œä»å¯ç”³è«‹å±…ç•™ï¼Œä¸¦éä¸€å®šè¦å…ˆé›¢å¢ƒæˆ–æ›´æ›ç°½è­‰ã€‚" 
                } 
            } 
        },
    ];

    function initSelectors() {
        const catSelector = document.getElementById('law-category-selector');
        if(!catSelector) return;
        const laws = [...new Set(studyData.map(item => item.category))];
        catSelector.innerHTML = laws.map(law => `<option value="${law}">${law}</option>`).join('');
        onCategoryChange();
    }

    function onCategoryChange() {
        const lawName = document.getElementById('law-category-selector').value;
        const artSelector = document.getElementById('article-selector');
        const filtered = studyData.filter(item => item.category === lawName);
        artSelector.innerHTML = filtered.map(art => `<option value="${art.id}">${art.name}</option>`).join('');
        updateContent();
    }

    function handleSearch() {
        const query = document.getElementById('article-search').value.trim().toLowerCase();
        const resultList = document.getElementById('search-results-list');
        if (!query) { resultList.style.display = 'none'; return; }
        const matches = studyData.filter(item => item.intro.toLowerCase().includes(query) || item.name.toLowerCase().includes(query));
        if (matches.length > 0) {
            resultList.innerHTML = matches.map(item => `<div class="search-item" onclick="selectFromSearch('${item.category}', '${item.id}')">ğŸ’¡ ${item.intro}</div>`).join('');
            resultList.style.display = 'block';
        } else {
            resultList.innerHTML = '<div class="search-item text-slate-400">æ‰¾ä¸åˆ°ç›¸ç¬¦æ³•è¦</div>';
            resultList.style.display = 'block';
        }
    }

    function handleGlossarySearch() {
        const query = document.getElementById('glossary-search').value.trim().toLowerCase();
        renderGlossaryTable(query);
    }

    function selectFromSearch(category, id) {
        const catEl = document.getElementById('law-category-selector');
        const artEl = document.getElementById('article-selector');
        if(catEl && artEl) {
            catEl.value = category;
            onCategoryChange();
            artEl.value = id;
            updateContent();
        }
        document.getElementById('article-search').value = "";
        document.getElementById('search-results-list').style.display = 'none';
        switchView('study');
    }

    function updateContent() {
        const artId = document.getElementById('article-selector').value;
        const item = studyData.find(d => d.id === artId);
        if(!item) return;
        const content = item.levels[currentLevel];
        
        const bSpan = document.getElementById('badge-text');
        const lBadge = document.getElementById('level-badge');
        if (bSpan) bSpan.innerText = `ç­‰ç´šï¼š${currentLevel}`;
        if (lBadge) lBadge.className = `badge-${currentLevel.toLowerCase()} shadow-lg`;

        document.getElementById('intro-box').innerText = `ğŸ’¡ ${item.intro}`;
        document.getElementById('law-original').innerHTML = highlightTerms(item.original);
        document.getElementById('law-simplified').innerHTML = highlightTerms(content.simplified);
        
        const grid = document.getElementById('penalty-grid');
        grid.innerHTML = (item.penalties || []).map(p => {
            let colorClass = 'tag-license'; let icon = 'ğŸ›¡ï¸'; let enLabel = '(Action)';
            if(p.type === 'money') { 
                colorClass = 'tag-money'; icon = 'ğŸ’°'; 
                enLabel = p.label.includes('ç½°é‡‘') ? '(Criminal Fine)' : '(Fine)';
            } else if(p.type === 'jail') { 
                colorClass = 'tag-jail'; icon = 'â›“ï¸'; enLabel = '(Imprisonment)'; 
            } else if(p.type === 'license') { 
                icon = (p.label.includes('é›¢å¢ƒ') || p.label.includes('å‡ºåœ‹')) ? 'âœˆï¸' : 'ğŸªª'; 
                enLabel = (p.label.includes('é›¢å¢ƒ')) ? '(Deport)' : '(Suspension)';
            }
            return `<div class="penalty-tag ${colorClass}"><span class="text-[14px] font-black opacity-80 mb-2 uppercase tracking-wide">${icon} ${p.label} <span class="text-[10px] font-bold opacity-60">${enLabel}</span></span><span class="text-2xl font-black tracking-tighter">${p.value}</span></div>`;
        }).join('') || '<p class="text-slate-400 font-black italic">æœ¬å–®å…ƒç„¡ç‰¹å®šç½°å‰‡</p>';
        
        document.getElementById('quiz-question').innerText = content.question;
        const container = document.getElementById('options-container');
        container.innerHTML = content.options.map((opt, idx) => `<div class="option-label" id="opt-label-${idx}" onclick="selectAnswer(${idx})">${opt}</div>`).join('');
        document.getElementById('feedback-box').style.display = 'none';
    }

    function selectAnswer(index) {
        const artId = document.getElementById('article-selector').value;
        const item = studyData.find(d => d.id === artId);
        const content = item.levels[currentLevel];
        const fb = document.getElementById('feedback-box');
        document.querySelectorAll('.option-label').forEach(el => el.classList.remove('selected-correct', 'selected-wrong'));
        const selectedLabel = document.getElementById(`opt-label-${index}`);
        fb.style.display = 'block';
        if (index === content.answer) {
            if(selectedLabel) selectedLabel.classList.add('selected-correct');
            fb.className = 'mt-8 p-8 rounded-3xl font-black text-xl text-left shadow-lg bg-emerald-100 text-emerald-800 border-2 border-emerald-500';
            fb.innerText = `âœ… æ­£ç¢ºï¼${content.feedback}`;
            startConfetti();
        } else {
            if(selectedLabel) selectedLabel.classList.add('selected-wrong');
            fb.className = 'mt-8 p-8 rounded-3xl font-black text-xl text-left shadow-lg bg-red-100 text-red-800 border-2 border-red-500';
            fb.innerText = `âŒ ç­”éŒ¯äº†ï¼è«‹é»æ“Šæ–‡ä¸­è—è‰²è©å½™å°‹æ‰¾ç·šç´¢ã€‚`;
        }
    }

    function switchView(viewName) {
        document.getElementById('view-study').classList.add('hidden');
        document.getElementById('view-glossary').classList.add('hidden');
        if (viewName === 'study') document.getElementById('view-study').classList.remove('hidden');
        else if (viewName === 'glossary') {
            document.getElementById('view-glossary').classList.remove('hidden');
            renderGlossaryTable();
        }
        window.scrollTo(0, 0);
    }

	function renderGlossaryTable(filterText = "") {
		const container = document.getElementById('glossary-table-content');
		if(!container) return;

		// 1. å–å¾— Key ä¸¦ã€ŒæŒ‰è‹±æ–‡ç¿»è­¯ (en) é¦–å­—æ¯ã€æ’åº
		// æˆ‘å€‘æŠ“å– globalGlossary è£¡çš„ en å±¬æ€§é€²è¡Œæ¯”è¼ƒ
		let keys = Object.keys(globalGlossary).sort((a, b) => {
			const enA = globalGlossary[a].en.toLowerCase();
			const enB = globalGlossary[b].en.toLowerCase();
			return enA.localeCompare(enB);
		});
		
		// 2. éæ¿¾é‚è¼¯ (æ”¯æ´ä¸­æ–‡ã€æ‹¼éŸ³ã€è‹±æ–‡é—œéµå­—æœå°‹)
		if (filterText) {
			const lowerFilter = filterText.toLowerCase();
			keys = keys.filter(key => 
				key.includes(filterText) || 
				globalGlossary[key].pinyin.toLowerCase().includes(lowerFilter) ||
				globalGlossary[key].en.toLowerCase().includes(lowerFilter)
			);
		}

		// 3. å¦‚æœæ‰¾ä¸åˆ°æ±è¥¿çš„æç¤º
		if (keys.length === 0) { 
			container.innerHTML = '<p class="text-center text-slate-400 font-bold py-10 text-left">æ‰¾ä¸åˆ°ç›¸é—œè©å½™</p>'; 
			return; 
		}

		// 4. æ¸²æŸ“ HTML
		container.innerHTML = keys.map(key => {
			const d = globalGlossary[key];
			return `
				<div class="glossary-row shadow-sm text-left">
					<div class="glossary-term-col">
						<span class="text-2xl font-black text-blue-900">${key}</span>
						<span class="text-xs text-slate-400 font-bold mt-1 tracking-widest uppercase">${d.pinyin}</span>
					</div>
					<div class="flex items-center">
						<span class="text-[10px] font-black text-blue-600 bg-blue-50 px-3 py-1 rounded-full border border-blue-100 italic">${d.en}</span>
					</div>
					<div class="glossary-def-col text-left text-base font-bold">${d.def}</div>
				</div>`;
		}).join('');
	}

    function highlightTerms(text) {
        if (!text) return "";
        const keys = Object.keys(globalGlossary).sort((a, b) => b.length - a.length);
        const pattern = new RegExp(keys.map(k => k.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')).join('|'), 'g');
        
        let colorCounter = 0;
        const colorClasses = ['word-color-0', 'word-color-1', 'word-color-2', 'word-color-3'];
        const seenInThisBlock = new Set(); // é—œéµï¼šè¨˜éŒ„æœ¬å€å¡Šå·²å‡ºç¾çš„è©å½™

        return text.replace(pattern, m => {
            // å¦‚æœé€™å€‹è©å·²ç¶“å‡ºç¾éï¼Œå°±å›å‚³åŸæ–‡å­— (ä¸åŠ æ¨™ç±¤)
            if (seenInThisBlock.has(m)) return m;
            
            // ç¬¬ä¸€æ¬¡å‡ºç¾ï¼Œè¨˜éŒ„ä¸‹ä¾†ä¸¦ä¸Šè‰²
            seenInThisBlock.add(m);
            const cls = colorClasses[colorCounter % colorClasses.length];
            colorCounter++;
            return `<span class="glossary-word ${cls}" onclick="openTermModal('${m}')">${m}</span>`;
        });
    }

    function openTermModal(key) {
        const d = globalGlossary[key];
        document.getElementById('modal-term').innerText = key;
        document.getElementById('modal-pinyin').innerText = d.pinyin;
        document.getElementById('modal-en').innerText = d.en; 
        document.getElementById('modal-def').innerText = d.def;
        document.getElementById('term-modal-overlay').classList.remove('hidden');
    }

    function closeTermModal() { document.getElementById('term-modal-overlay').classList.add('hidden'); }
    function openQuizModal() { document.getElementById('quiz-modal-overlay').classList.remove('hidden'); }
    function closeQuizModal() { document.getElementById('quiz-modal-overlay').classList.add('hidden'); }
    function openLevelModal() { document.getElementById('level-modal-overlay').classList.remove('hidden'); }
    function closeLevelModal() { document.getElementById('level-modal-overlay').classList.add('hidden'); }
    function openLogModal() { document.getElementById('log-modal-overlay').classList.remove('hidden'); }
    function closeLogModal() { document.getElementById('log-modal-overlay').classList.add('hidden'); }
    function openInfoModal() { document.getElementById('info-modal-overlay').classList.remove('hidden'); }
    function closeInfoModal() { document.getElementById('info-modal-overlay').classList.add('hidden'); }
    function changeLevel(l) { currentLevel = l; updateContent(); closeLevelModal(); }

    function startConfetti() {
        const canvas = document.getElementById('confetti-canvas');
        if(!canvas) return;
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let p = [];
        for (let i = 0; i < 40; i++) p.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height - canvas.height, r: Math.random() * 4 + 2, d: Math.random() * 10, c: `hsl(${Math.random() * 360}, 100%, 50%)`, t: Math.random() * 10 - 10 });
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            p.forEach((p) => {
                ctx.beginPath(); ctx.lineWidth = p.r; ctx.strokeStyle = p.c;
                ctx.moveTo(p.x + p.t + p.r / 2, p.y); ctx.lineTo(p.x + p.t, p.y + p.t + p.r / 2); ctx.stroke();
                p.y += 3; if (p.y > canvas.height) p.y = -20;
            });
        }
        let anim = setInterval(draw, 20);
        setTimeout(() => { clearInterval(anim); ctx.clearRect(0, 0, canvas.width, canvas.height); }, 2500);
    }
    

	
    window.onscroll = function() {
        const header = document.getElementById('main-header');
        if (header && window.pageYOffset > 10) header.classList.add('scrolled');
        else if (header) header.classList.remove('scrolled');
    };

    window.onload = () => { initSelectors(); };
</script>

</body>
</html>
